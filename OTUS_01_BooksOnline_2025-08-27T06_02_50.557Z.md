# OTUS_01_BooksOnline documentation
## Summary

- [Introduction](#introduction)
- [Database Type](#database-type)
- [Table Structure](#table-structure)
	- [Books](#books)
	- [Authors](#authors)
	- [BooksAuthors](#booksauthors)
	- [Categories](#categories)
	- [Publishers](#publishers)
	- [BookEditions](#bookeditions)
	- [Suppliers](#suppliers)
	- [Supplies](#supplies)
	- [Warehouses](#warehouses)
	- [BookPrices](#bookprices)
	- [Orders](#orders)
	- [PickupLocations](#pickuplocations)
	- [Customers](#customers)
	- [CustomerDocuments](#customerdocuments)
	- [DocumentTypes](#documenttypes)
	- [OrderContent](#ordercontent)
	- [Statuses](#statuses)
	- [Promocodes](#promocodes)
- [Relationships](#relationships)
- [Database Diagram](#database-diagram)

## Introduction

## Database type

- **Database system:** MySQL
## Table structure

### Books

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **BookID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_Books_BookID_BooksAuthors,fk_Books_BookID_BookEditions | |
| **BookName** | VARCHAR(255) | not null |  | |
| **CategoryID** | INTEGER | not null | fk_Books_CategoryID_Categories | | 


### Authors

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **AuthorID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_Authors_AuthorID_BooksAuthors | |
| **AuthorName** | VARCHAR(255) | not null |  | | 


### BooksAuthors

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **BookID** | INTEGER | üîë PK, not null, unique |  | |
| **AuthorID** | INTEGER | üîë PK, not null |  | | 


### Categories

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **CategoryID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **CategoryName** | VARCHAR(255) | not null |  | | 


### Publishers

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **PublisherID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **PublisherName** | VARCHAR(255) | not null |  | | 


### BookEditions

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **BookEditionID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_BookEditions_BookEditionID_Supplies,fk_BookEditions_BookEditionID_BookPrices,fk_BookEditions_BookEditionID_OrderContent | |
| **Year** | INTEGER | not null |  | |
| **PublisherID** | INTEGER | not null | fk_BookEditions_PublisherID_Publishers | |
| **BookID** | INTEGER | not null |  | | 


### Suppliers
–ò–ù–ù
| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **SupplierID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_Suppliers_SupplierID_Supplies | |
| **TIN** | INTEGER | not null |  | |
| **SupplierName** | VARCHAR(255) | not null |  | | 


### Supplies

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **SupplyID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **SupplierID** | INTEGER | not null |  | |
| **BookEditionID** | INTEGER | not null |  | |
| **BookCount** | INTEGER | not null |  | |
| **BookCost** | DECIMAL | not null |  | |
| **WarehouseID** | INTEGER | not null | fk_Supplies_WarehouseID_Warehouses | | 


### Warehouses

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **WarehouseID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **WarehouseName** | VARCHAR(255) | not null |  | |
| **WarehouseAddress** | VARCHAR(255) | not null |  | | 


### BookPrices

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **PriceID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_BookPrices_PriceID_OrderContent | |
| **BookEditionID** | INTEGER | not null |  | |
| **Price** | DECIMAL | not null |  | |
| **PriceStartDate** | DATE | not null |  | |
| **PriceEndDate** | DATE | null |  | |
| **IsActualPrice** | BOOLEAN | not null |  | | 


### Orders

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **OrderID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **OrderDate** | DATE | not null |  | |
| **CustomerID** | INTEGER | not null |  | |
| **PickupLocationID** | INTEGER | not null |  | |
| **TotalSum** | DECIMAL | not null |  | |
| **StatusID** | INTEGER | not null | fk_Orders_StatusID_Statuses | |
| **PromocodeID** | INTEGER | null | fk_Orders_PromocodeID_Promocodes | | 


### PickupLocations

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **PickupLocationID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_PickupLocations_PickupLocationID_Orders | |
| **PickupLocationAddress** | VARCHAR(255) | not null |  | | 


### Customers

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **CustomerID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_Customers_CustomerID_Orders,fk_Customers_CustomerID_CustomerDocuments | |
| **FirstName** | VARCHAR(255) | not null |  | |
| **LastName** | VARCHAR(255) | not null |  | |
| **Email** | VARCHAR(255) | not null |  | |
| **PhoneNumber** | INTEGER | not null |  | | 


### CustomerDocuments

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **DocumentID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **DocumentTypeID** | INTEGER | not null |  | |
| **DocumentDate** | DATE | not null |  | |
| **DocumentNumber** | INTEGER | not null |  | |
| **CustomerID** | INTEGER | not null |  | | 


### DocumentTypes

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **DocumentTypeID** | INTEGER | üîë PK, not null, unique, autoincrement | fk_DocumentTypes_DocumentTypeID_CustomerDocuments | |
| **DocumentType** | VARCHAR(255) | not null |  | | 


### OrderContent

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **OrderRow** | INTEGER | üîë PK, not null |  | |
| **OrderID** | INTEGER | not null, unique, autoincrement | fk_OrderContent_OrderID_Orders | |
| **BookEditionID** | INTEGER | not null |  | |
| **WarehouseID** | INTEGER | not null | fk_OrderContent_WarehouseID_Warehouses | |
| **BookCount** | INTEGER | not null |  | |
| **PriceID** | INTEGER | not null |  | |
| **DiscountPercent** | DECIMAL | not null |  | | 


### Statuses

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **StatusID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **StatusName** | VARCHAR(255) | not null |  | | 


### Promocodes

| Name        | Type          | Settings                      | References                    | Note                           |
|-------------|---------------|-------------------------------|-------------------------------|--------------------------------|
| **PromocodeID** | INTEGER | üîë PK, not null, unique, autoincrement |  | |
| **Promocode** | VARCHAR(255) | not null |  | |
| **DiscountPercent** | DECIMAL | not null |  | | 


## Relationships

- **Books to BooksAuthors**: one_to_many
- **Authors to BooksAuthors**: one_to_many
- **Books to Categories**: many_to_one
- **Books to BookEditions**: one_to_many
- **BookEditions to Publishers**: many_to_one
- **Supplies to Warehouses**: many_to_one
- **Suppliers to Supplies**: one_to_many
- **BookEditions to Supplies**: one_to_many
- **BookEditions to BookPrices**: one_to_many
- **PickupLocations to Orders**: one_to_many
- **Customers to Orders**: one_to_many
- **DocumentTypes to CustomerDocuments**: one_to_many
- **Orders to Statuses**: many_to_one
- **Customers to CustomerDocuments**: one_to_many
- **OrderContent to Orders**: many_to_one
- **BookEditions to OrderContent**: one_to_many
- **OrderContent to Warehouses**: many_to_one
- **BookPrices to OrderContent**: one_to_many
- **Orders to Promocodes**: many_to_one

## Database Diagram

```mermaid
erDiagram
	Books ||--o{ BooksAuthors : references
	Authors ||--o{ BooksAuthors : references
	Books }o--|| Categories : references
	Books ||--o{ BookEditions : references
	BookEditions }o--|| Publishers : references
	Supplies }o--|| Warehouses : references
	Suppliers ||--o{ Supplies : references
	BookEditions ||--o{ Supplies : references
	BookEditions ||--o{ BookPrices : references
	PickupLocations ||--o{ Orders : references
	Customers ||--o{ Orders : references
	DocumentTypes ||--o{ CustomerDocuments : references
	Orders }o--|| Statuses : references
	Customers ||--o{ CustomerDocuments : references
	OrderContent }o--|| Orders : references
	BookEditions ||--o{ OrderContent : references
	OrderContent }o--|| Warehouses : references
	BookPrices ||--o{ OrderContent : references
	Orders }o--|| Promocodes : references

	Books {
		INTEGER BookID
		VARCHAR(255) BookName
		INTEGER CategoryID
	}

	Authors {
		INTEGER AuthorID
		VARCHAR(255) AuthorName
	}

	BooksAuthors {
		INTEGER BookID
		INTEGER AuthorID
	}

	Categories {
		INTEGER CategoryID
		VARCHAR(255) CategoryName
	}

	Publishers {
		INTEGER PublisherID
		VARCHAR(255) PublisherName
	}

	BookEditions {
		INTEGER BookEditionID
		INTEGER Year
		INTEGER PublisherID
		INTEGER BookID
	}

	Suppliers {
		INTEGER SupplierID
		INTEGER TIN
		VARCHAR(255) SupplierName
	}

	Supplies {
		INTEGER SupplyID
		INTEGER SupplierID
		INTEGER BookEditionID
		INTEGER BookCount
		DECIMAL BookCost
		INTEGER WarehouseID
	}

	Warehouses {
		INTEGER WarehouseID
		VARCHAR(255) WarehouseName
		VARCHAR(255) WarehouseAddress
	}

	BookPrices {
		INTEGER PriceID
		INTEGER BookEditionID
		DECIMAL Price
		DATE PriceStartDate
		DATE PriceEndDate
		BOOLEAN IsActualPrice
	}

	Orders {
		INTEGER OrderID
		DATE OrderDate
		INTEGER CustomerID
		INTEGER PickupLocationID
		DECIMAL TotalSum
		INTEGER StatusID
		INTEGER PromocodeID
	}

	PickupLocations {
		INTEGER PickupLocationID
		VARCHAR(255) PickupLocationAddress
	}

	Customers {
		INTEGER CustomerID
		VARCHAR(255) FirstName
		VARCHAR(255) LastName
		VARCHAR(255) Email
		INTEGER PhoneNumber
	}

	CustomerDocuments {
		INTEGER DocumentID
		INTEGER DocumentTypeID
		DATE DocumentDate
		INTEGER DocumentNumber
		INTEGER CustomerID
	}

	DocumentTypes {
		INTEGER DocumentTypeID
		VARCHAR(255) DocumentType
	}

	OrderContent {
		INTEGER OrderRow
		INTEGER OrderID
		INTEGER BookEditionID
		INTEGER WarehouseID
		INTEGER BookCount
		INTEGER PriceID
		DECIMAL DiscountPercent
	}

	Statuses {
		INTEGER StatusID
		VARCHAR(255) StatusName
	}

	Promocodes {
		INTEGER PromocodeID
		VARCHAR(255) Promocode
		DECIMAL DiscountPercent
	}
```